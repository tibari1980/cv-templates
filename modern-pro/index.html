<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CV - {{personalInfo.name}}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', 'Segoe UI', -apple-system, sans-serif; background: #fafafa; padding: 0; line-height: 1.45; }
    .cv-container { max-width: 210mm; height: 297mm; margin: 0 auto; background: white; box-shadow: 0 4px 16px rgba(0,0,0,0.05); display: grid; grid-template-columns: 1fr 2fr; overflow: hidden; }
    .left-column { background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); color: white; padding: 22px 18px; display: flex; flex-direction: column; }
    .profile-image { width: 80px; height: 80px; border-radius: 50%; margin: 0 auto 16px; display: block; border: 2px solid rgba(255,255,255,0.4); object-fit: cover; }
    .profile-image[data-empty="true"] { display: none !important; }
    .name-section { text-align: center; margin-bottom: 20px; }
    .name-section h1 { font-size: 21px; font-weight: 700; margin-bottom: 4px; line-height: 1.15; }
    .name-section .job-title { font-size: 13px; opacity: 0.95; font-weight: 400; }
    .section { margin-bottom: 18px; }
    .section-title { font-size: 11px; font-weight: 600; margin-bottom: 8px; color: rgba(255,255,255,0.98); text-transform: uppercase; letter-spacing: 0.8px; }
    .contact-item { display: flex; align-items: center; margin-bottom: 7px; font-size: 12px; }
    .contact-item::before { content: "→"; margin-right: 8px; font-size: 12px; flex-shrink: 0; }
    .skills-list, .interests-list, .languages-list { list-style: none; font-size: 12px; }
    .skills-list li, .interests-list li, .languages-list li { margin-bottom: 6px; padding-left: 16px; position: relative; }
    .skills-list li::before, .interests-list li::before, .languages-list li::before { content: "•"; position: absolute; left: 0; font-size: 14px; color: rgba(255,255,255,0.75); }
    .left-column-content { flex: 1; }
    .right-column { padding: 24px 22px; }
    .right-section { margin-bottom: 18px; }
    .right-section-title { font-size: 15px; font-weight: 700; margin-bottom: 10px; color: #1a1a1a; position: relative; padding-bottom: 4px; }
    .right-section-title::after { content: ''; position: absolute; bottom: 0; left: 0; width: 26px; height: 2px; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); border-radius: 1px; }
    .profile-text { font-size: 12px; color: #4a5568; }
    .timeline-item { margin-bottom: 16px; padding-left: 16px; position: relative; }
    .timeline-item::before { content: ""; position: absolute; left: 7px; top: 0; width: 1px; height: 100%; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); }
    .timeline-item::after { content: ""; position: absolute; left: 4px; top: 0; width: 8px; height: 8px; border-radius: 50%; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); }
    .timeline-header { margin-bottom: 5px; }
    .company-name, .school-name { font-size: 13px; font-weight: 700; color: #1a1a1a; margin-bottom: 1px; line-height: 1.25; }
    .job-info, .degree-info { color: #4a5568; font-size: 11.5px; margin-bottom: 1px; }
    .date-range { color: #a0aec0; font-size: 11px; font-weight: 500; }
    .tasks-list { list-style: none; margin-top: 6px; }
    .tasks-list li { margin-bottom: 4px; padding-left: 14px; position: relative; color: #4a5568; font-size: 11px; line-height: 1.35; }
    .tasks-list li::before { content: "→"; position: absolute; left: 0; color: #1a1a1a; font-size: 9px; font-weight: 600; }
    .timeline-item[data-empty="true"] { display: none !important; height: 0 !important; margin: 0 !important; padding: 0 !important; }
    @media print { body { padding: 0; background: white; } .cv-container { box-shadow: none; max-width: 100%; height: 297mm !important; border-radius: 0; } .left-column { height: 297mm; } }
    @page { size: A4; margin: 0; }
  </style>
</head>
<body>
  <div class="cv-container">
    <!-- COLONNE GAUCHE -->
    <div class="left-column">
      {{#if personalInfo.photoUrl}}
        <img src="{{personalInfo.photoUrl}}" alt="Photo" class="profile-image">
      {{/if}}

      <div class="name-section">
        <h1>{{personalInfo.name}}</h1>
        <p class="job-title">{{personalInfo.title}}</p>
      </div>

      <div class="left-column-content">
        <div class="section">
          <h2 class="section-title">Contact</h2>
          <div class="contact-item">{{personalInfo.phone}}</div>
          <div class="contact-item">{{personalInfo.email}}</div>
          <div class="contact-item">{{personalInfo.location}}</div>
        </div>

        <div class="section">
          <h2 class="section-title">Compétences</h2>
          <ul class="skills-list">
            {{#each skills}}
              <li>{{this}}</li>
            {{/each}}
          </ul>
        </div>

        <div class="section">
          <h2 class="section-title">Langues</h2>
          <ul class="languages-list">
            {{#each languages}}
              <li>{{this.language}} - {{this.level}}</li>
            {{/each}}
          </ul>
        </div>

        <div class="section">
          <h2 class="section-title">Centre d'intérêt</h2>
          <ul class="interests-list">
            {{#each interests}}
              <li>{{this}}</li>
            {{/each}}
          </ul>
        </div>
      </div>
    </div>

    <!-- COLONNE DROITE -->
    <div class="right-column">
      <div class="right-section">
        <h2 class="right-section-title">Profil</h2>
        <p class="profile-text">{{summary}}</p>
      </div>

      <div class="right-section">
        <h2 class="right-section-title">Expérience Professionnelle</h2>
        {{#each experience}}
          <div class="timeline-item">
            <div class="timeline-header">
              <h3 class="company-name">{{this.company}}</h3>
              <p class="job-info">{{this.title}}, {{this.city}}</p>
              <p class="date-range">{{this.dates}}</p>
            </div>
            <ul class="tasks-list">
              {{#each this.bullets}}
                <li>{{this}}</li>
              {{/each}}
            </ul>
          </div>
        {{/each}}
      </div>

      <div class="right-section">
        <h2 class="right-section-title">Formation</h2>
        {{#each education}}
          <div class="timeline-item">
            <div class="timeline-header">
              <h3 class="school-name">{{this.degree}}</h3>
              <p class="degree-info">{{this.school}}</p>
              <p class="date-range">{{this.dates}}</p>
            </div>
          </div>
        {{/each}}
      </div>
    </div>
  </div>
</body>
</html>
